{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\adamj\\\\OneDrive\\\\Desktop\\\\crwn-clothing-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{createContext,useState,useEffect}from\"react/cjs/react.development\";import{onAuthStateChangedListener,createUserDocumentFromAuth}from\"../utils/firebase/firebase.utils\";// value you want to access\nimport{jsx as _jsx}from\"react/jsx-runtime\";export var UserContext=createContext({currentUser:null,setCurrentUser:function setCurrentUser(){return null;}});export var UserProvider=function UserProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var value={currentUser:currentUser,setCurrentUser:setCurrentUser};useEffect(function(){var unsubscribe=onAuthStateChangedListener(function(user){if(user){createUserDocumentFromAuth(user);}setCurrentUser(user);});return unsubscribe;},[]);return/*#__PURE__*/_jsx(UserContext.Provider,{value:value,children:children});};","map":{"version":3,"sources":["C:/Users/adamj/OneDrive/Desktop/crwn-clothing-app/src/contexts/user.context.jsx"],"names":["createContext","useState","useEffect","onAuthStateChangedListener","createUserDocumentFromAuth","UserContext","currentUser","setCurrentUser","UserProvider","children","value","unsubscribe","user"],"mappings":"kJAAA,OAASA,aAAT,CAAwBC,QAAxB,CAAkCC,SAAlC,KAAmD,6BAAnD,CACA,OAASC,0BAAT,CAAqCC,0BAArC,KAAsE,kCAAtE,CACA;2CACA,MAAO,IAAMC,CAAAA,WAAW,CAAGL,aAAa,CAAC,CACrCM,WAAW,CAAE,IADwB,CAErCC,cAAc,CAAE,gCAAK,KAAL,EAFqB,CAAD,CAAjC,CAKP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAe,IAAbC,CAAAA,QAAa,MAAbA,QAAa,CACvC,cAAsCR,QAAQ,CAAC,IAAD,CAA9C,wCAAOK,WAAP,eAAoBC,cAApB,eACA,GAAMG,CAAAA,KAAK,CAAG,CAACJ,WAAW,CAAXA,WAAD,CAAcC,cAAc,CAAdA,cAAd,CAAd,CAEAL,SAAS,CAAC,UAAM,CACZ,GAAMS,CAAAA,WAAW,CAAGR,0BAA0B,CAAC,SAACS,IAAD,CAAU,CACvD,GAAIA,IAAJ,CAAU,CACRR,0BAA0B,CAACQ,IAAD,CAA1B,CACD,CACDL,cAAc,CAACK,IAAD,CAAd,CACD,CAL6C,CAA9C,CAOA,MAAOD,CAAAA,WAAP,CACD,CATM,CASJ,EATI,CAAT,CAWA,mBAAO,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAGD,KAA9B,UAAsCD,QAAtC,EAAP,CACH,CAhBM","sourcesContent":["import { createContext, useState, useEffect } from \"react/cjs/react.development\";\r\nimport { onAuthStateChangedListener, createUserDocumentFromAuth} from \"../utils/firebase/firebase.utils\";\r\n// value you want to access\r\nexport const UserContext = createContext({\r\n    currentUser: null,\r\n    setCurrentUser: ()=> null,\r\n});\r\n\r\nexport const UserProvider = ({children}) =>{\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const value = {currentUser, setCurrentUser};\r\n    \r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChangedListener((user) => {\r\n          if (user) {\r\n            createUserDocumentFromAuth(user);\r\n          }\r\n          setCurrentUser(user);\r\n        });\r\n    \r\n        return unsubscribe;\r\n      }, []);\r\n\r\n    return <UserContext.Provider value ={value}>{children}</UserContext.Provider>\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}