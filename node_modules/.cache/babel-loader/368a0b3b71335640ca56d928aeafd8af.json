{"ast":null,"code":"'use strict'; // overloadDefs\n// self, overloadDefs\n\nvar overload = module.exports = function () {\n  var self,\n      selfSet = false,\n      overloadDefs;\n\n  if (arguments.length === 1) {\n    overloadDefs = arguments[0];\n  } else {\n    selfSet = true;\n    self = arguments[0];\n    overloadDefs = arguments[1];\n  }\n\n  return function () {\n    if (!selfSet) {\n      self = this;\n    }\n\n    var args = Array.prototype.slice.call(arguments);\n    var overloadMatchData = findOverload(overloadDefs, args);\n\n    if (!overloadMatchData) {\n      throw new Error(createErrorMessage('No match found.', overloadDefs));\n    }\n\n    var overloadFn = overloadMatchData.def[overloadMatchData.def.length - 1];\n    return overloadFn.apply(self, overloadMatchData.args);\n  };\n};\n\nvar findOverload = overload.findOverload = function (overloadDefs, args) {\n  for (var i = 0; i < overloadDefs.length; i++) {\n    if (i === overloadDefs.length - 1 && typeof overloadDefs[i] === 'function') {\n      return {\n        args: args,\n        def: [overloadDefs[i]]\n      };\n    }\n\n    var newArgs;\n\n    if (newArgs = isMatch(overloadDefs[i], args)) {\n      return {\n        args: newArgs,\n        def: overloadDefs[i]\n      };\n    }\n  }\n\n  return null;\n};\n\nfunction isMatch(overloadDef, args) {\n  var overloadDefIdx;\n  var argIdx;\n  var newArgs = [];\n\n  for (overloadDefIdx = 0, argIdx = 0; overloadDefIdx < overloadDef.length - 1; overloadDefIdx++) {\n    if (typeof overloadDef[overloadDefIdx] !== 'function') {\n      throw new Error(\"Invalid overload definition. Array should only contain functions.\");\n    } //console.log('overloadDef/arg:', overloadDef[overloadDefIdx], args[argIdx]);\n\n\n    var result = overloadDef[overloadDefIdx](args[argIdx]); //console.log('result:', result);\n\n    if (result) {\n      if (result.hasOwnProperty('defaultValue')) {\n        newArgs.push(result.defaultValue);\n      } else {\n        if (overloadDef[overloadDefIdx].optional && args[argIdx] === null) {\n          argIdx++;\n          newArgs.push(overloadDef[overloadDefIdx].defaultValue);\n          continue;\n        }\n\n        newArgs.push(args[argIdx]);\n        argIdx++;\n      }\n    } else {\n      if (overloadDef[overloadDefIdx].optional) {\n        newArgs.push(overloadDef[overloadDefIdx].defaultValue);\n        continue;\n      }\n\n      return false;\n    }\n  } //console.log('compares', overloadDefIdx, overloadDef.length - 1, argIdx, args.length, newArgs.length);\n\n\n  if (overloadDefIdx === overloadDef.length - 1 && argIdx >= args.length) {\n    return newArgs;\n  }\n\n  return false;\n}\n\nfunction createErrorMessage(message, overloadDefs) {\n  message += '\\n';\n  message += '  Possible matches:\\n';\n\n  for (var i = 0; i < overloadDefs.length; i++) {\n    var overloadDef = overloadDefs[i];\n\n    if (typeof overloadDef === 'function') {\n      message += '   [default]\\n';\n    } else {\n      var matchers = overloadDef.slice(0, overloadDef.length - 1);\n      matchers = matchers.map(function (m) {\n        if (!m) {\n          return '[invalid argument definition]';\n        }\n\n        return m.name || m;\n      });\n\n      if (matchers.length === 0) {\n        message += '   ()\\n';\n      } else {\n        message += '   (' + matchers.join(', ') + ')\\n';\n      }\n    }\n  }\n\n  return message;\n} // --- func\n\n\noverload.func = function func(arg) {\n  return typeof arg === 'function';\n};\n\noverload.funcOptional = function funcOptional(arg) {\n  if (!arg) {\n    return true;\n  }\n\n  return overload.func(arg);\n};\n\noverload.funcOptional.optional = true;\n\noverload.funcOptionalWithDefault = function (def) {\n  var fn = function funcOptionalWithDefault(arg) {\n    if (arg === undefined) {\n      return false;\n    }\n\n    return overload.func(arg);\n  };\n\n  fn.optional = true;\n  fn.defaultValue = def;\n  return fn;\n}; // --- callback\n\n\noverload.callbackOptional = function callbackOptional(arg) {\n  if (!arg) {\n    return {\n      defaultValue: function defaultCallback() {}\n    };\n  }\n\n  return overload.func(arg);\n};\n\noverload.callbackOptional.optional = true; // --- string\n\noverload.string = function string(arg) {\n  return typeof arg === 'string';\n};\n\noverload.stringOptional = function stringOptional(arg) {\n  if (!arg) {\n    return true;\n  }\n\n  return overload.string(arg);\n};\n\noverload.stringOptional.optional = true;\n\noverload.stringOptionalWithDefault = function (def) {\n  var fn = function stringOptionalWithDefault(arg) {\n    if (arg === undefined) {\n      return false;\n    }\n\n    return overload.string(arg);\n  };\n\n  fn.optional = true;\n  fn.defaultValue = def;\n  return fn;\n}; // --- number\n\n\noverload.number = function number(arg) {\n  return typeof arg === 'number';\n};\n\noverload.numberOptional = function numberOptional(arg) {\n  if (!arg) {\n    return true;\n  }\n\n  return overload.number(arg);\n};\n\noverload.numberOptional.optional = true;\n\noverload.numberOptionalWithDefault = function (def) {\n  var fn = function numberOptionalWithDefault(arg) {\n    if (arg === undefined) {\n      return false;\n    }\n\n    return overload.number(arg);\n  };\n\n  fn.optional = true;\n  fn.defaultValue = def;\n  return fn;\n}; // --- array\n\n\noverload.array = function array(arg) {\n  return arg instanceof Array;\n};\n\noverload.arrayOptional = function arrayOptional(arg) {\n  if (!arg) {\n    return true;\n  }\n\n  return overload.array(arg);\n};\n\noverload.arrayOptional.optional = true;\n\noverload.arrayOptionalWithDefault = function (def) {\n  var fn = function arrayOptionalWithDefault(arg) {\n    if (arg === undefined) {\n      return false;\n    }\n\n    return overload.array(arg);\n  };\n\n  fn.optional = true;\n  fn.defaultValue = def;\n  return fn;\n}; // --- object\n\n\noverload.object = function object(arg) {\n  return typeof arg === 'object';\n};\n\noverload.objectOptional = function objectOptional(arg) {\n  if (!arg) {\n    return true;\n  }\n\n  return overload.object(arg);\n};\n\noverload.objectOptional.optional = true;\n\noverload.objectOptionalWithDefault = function (def) {\n  var fn = function objectOptionalWithDefault(arg) {\n    if (arg === undefined) {\n      return false;\n    }\n\n    return overload.object(arg);\n  };\n\n  fn.optional = true;\n  fn.defaultValue = def;\n  return fn;\n};","map":{"version":3,"sources":["C:/Users/adamj/OneDrive/Desktop/crwn-clothing-app/node_modules/over/overload.js"],"names":["overload","module","exports","self","selfSet","overloadDefs","arguments","length","args","Array","prototype","slice","call","overloadMatchData","findOverload","Error","createErrorMessage","overloadFn","def","apply","i","newArgs","isMatch","overloadDef","overloadDefIdx","argIdx","result","hasOwnProperty","push","defaultValue","optional","message","matchers","map","m","name","join","func","arg","funcOptional","funcOptionalWithDefault","fn","undefined","callbackOptional","defaultCallback","string","stringOptional","stringOptionalWithDefault","number","numberOptional","numberOptionalWithDefault","array","arrayOptional","arrayOptionalWithDefault","object","objectOptional","objectOptionalWithDefault"],"mappings":"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","sourcesContent":["'use strict';\n\n// overloadDefs\n// self, overloadDefs\nvar overload = module.exports = function () {\n  var self, selfSet = false, overloadDefs;\n  if (arguments.length === 1) {\n    overloadDefs = arguments[0];\n  } else {\n    selfSet = true;\n    self = arguments[0];\n    overloadDefs = arguments[1];\n  }\n  return function () {\n    if (!selfSet) {\n      self = this;\n    }\n    var args = Array.prototype.slice.call(arguments);\n    var overloadMatchData = findOverload(overloadDefs, args);\n    if (!overloadMatchData) {\n      throw new Error(createErrorMessage('No match found.', overloadDefs));\n    }\n    var overloadFn = overloadMatchData.def[overloadMatchData.def.length - 1];\n    return overloadFn.apply(self, overloadMatchData.args);\n  };\n};\n\nvar findOverload = overload.findOverload = function (overloadDefs, args) {\n  for (var i = 0; i < overloadDefs.length; i++) {\n    if (i === overloadDefs.length - 1 && typeof(overloadDefs[i]) === 'function') {\n      return { args: args, def: [overloadDefs[i]] };\n    }\n    var newArgs;\n    if (newArgs = isMatch(overloadDefs[i], args)) {\n      return { args: newArgs, def: overloadDefs[i] };\n    }\n  }\n  return null;\n};\n\nfunction isMatch(overloadDef, args) {\n  var overloadDefIdx;\n  var argIdx;\n  var newArgs = [];\n  for (overloadDefIdx = 0, argIdx = 0; overloadDefIdx < overloadDef.length - 1; overloadDefIdx++) {\n    if (typeof(overloadDef[overloadDefIdx]) !== 'function') {\n      throw new Error(\"Invalid overload definition. Array should only contain functions.\");\n    }\n    //console.log('overloadDef/arg:', overloadDef[overloadDefIdx], args[argIdx]);\n    var result = overloadDef[overloadDefIdx](args[argIdx]);\n    //console.log('result:', result);\n    if (result) {\n      if (result.hasOwnProperty('defaultValue')) {\n        newArgs.push(result.defaultValue);\n      } else {\n        if (overloadDef[overloadDefIdx].optional && args[argIdx] === null) {\n          argIdx++;\n          newArgs.push(overloadDef[overloadDefIdx].defaultValue);\n          continue;\n        }\n        newArgs.push(args[argIdx]);\n        argIdx++;\n      }\n    } else {\n      if (overloadDef[overloadDefIdx].optional) {\n        newArgs.push(overloadDef[overloadDefIdx].defaultValue);\n        continue;\n      }\n      return false;\n    }\n  }\n  //console.log('compares', overloadDefIdx, overloadDef.length - 1, argIdx, args.length, newArgs.length);\n  if (overloadDefIdx === overloadDef.length - 1 && argIdx >= args.length) {\n    return newArgs;\n  }\n  return false;\n}\n\nfunction createErrorMessage(message, overloadDefs) {\n  message += '\\n';\n  message += '  Possible matches:\\n';\n  for (var i = 0; i < overloadDefs.length; i++) {\n    var overloadDef = overloadDefs[i];\n    if (typeof(overloadDef) === 'function') {\n      message += '   [default]\\n';\n    } else {\n      var matchers = overloadDef.slice(0, overloadDef.length - 1);\n      matchers = matchers.map(function (m) {\n        if (!m) {\n          return '[invalid argument definition]';\n        }\n        return m.name || m;\n      });\n      if (matchers.length === 0) {\n        message += '   ()\\n';\n      } else {\n        message += '   (' + matchers.join(', ') + ')\\n';\n      }\n    }\n  }\n  return message;\n}\n\n// --- func\noverload.func = function func(arg) {\n  return typeof(arg) === 'function';\n};\n\noverload.funcOptional = function funcOptional(arg) {\n  if (!arg) {\n    return true;\n  }\n  return overload.func(arg);\n};\noverload.funcOptional.optional = true;\n\noverload.funcOptionalWithDefault = function (def) {\n  var fn = function funcOptionalWithDefault(arg) {\n    if (arg === undefined) {\n      return false;\n    }\n    return overload.func(arg);\n  };\n  fn.optional = true;\n  fn.defaultValue = def;\n  return fn;\n};\n\n// --- callback\noverload.callbackOptional = function callbackOptional(arg) {\n  if (!arg) {\n    return { defaultValue: function defaultCallback() {} };\n  }\n  return overload.func(arg);\n};\noverload.callbackOptional.optional = true;\n\n// --- string\noverload.string = function string(arg) {\n  return typeof(arg) === 'string';\n};\n\noverload.stringOptional = function stringOptional(arg) {\n  if (!arg) {\n    return true;\n  }\n  return overload.string(arg);\n};\noverload.stringOptional.optional = true;\n\noverload.stringOptionalWithDefault = function (def) {\n  var fn = function stringOptionalWithDefault(arg) {\n    if (arg === undefined) {\n      return false;\n    }\n    return overload.string(arg);\n  };\n  fn.optional = true;\n  fn.defaultValue = def;\n  return fn;\n};\n\n// --- number\noverload.number = function number(arg) {\n  return typeof(arg) === 'number';\n};\n\noverload.numberOptional = function numberOptional(arg) {\n  if (!arg) {\n    return true;\n  }\n  return overload.number(arg);\n};\noverload.numberOptional.optional = true;\n\noverload.numberOptionalWithDefault = function (def) {\n  var fn = function numberOptionalWithDefault(arg) {\n    if (arg === undefined) {\n      return false;\n    }\n    return overload.number(arg);\n  };\n  fn.optional = true;\n  fn.defaultValue = def;\n  return fn;\n};\n\n// --- array\noverload.array = function array(arg) {\n  return arg instanceof Array;\n};\n\noverload.arrayOptional = function arrayOptional(arg) {\n  if (!arg) {\n    return true;\n  }\n  return overload.array(arg);\n};\noverload.arrayOptional.optional = true;\n\noverload.arrayOptionalWithDefault = function (def) {\n  var fn = function arrayOptionalWithDefault(arg) {\n    if (arg === undefined) {\n      return false;\n    }\n    return overload.array(arg);\n  };\n  fn.optional = true;\n  fn.defaultValue = def;\n  return fn;\n};\n\n// --- object\noverload.object = function object(arg) {\n  return typeof(arg) === 'object';\n};\n\noverload.objectOptional = function objectOptional(arg) {\n  if (!arg) {\n    return true;\n  }\n  return overload.object(arg);\n};\noverload.objectOptional.optional = true;\n\noverload.objectOptionalWithDefault = function (def) {\n  var fn = function objectOptionalWithDefault(arg) {\n    if (arg === undefined) {\n      return false;\n    }\n    return overload.object(arg);\n  };\n  fn.optional = true;\n  fn.defaultValue = def;\n  return fn;\n};\n"]},"metadata":{},"sourceType":"script"}